<!DOCTYPE html> 
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chat con Voz</title>
  <link rel="stylesheet" href="hojadeestilo.css">
  <style>
    /* Barra de composici√≥n fija abajo */
    .compose-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px;
      background: #fff;
      border-top: 1px solid #ddd;
      position: sticky; /* se queda al fondo del contenedor */
      bottom: 0;
    }
    .compose-bar input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
    }
    .compose-bar img {
      width: 32px;
      height: 32px;
      cursor: pointer;
      transition: transform 0.15s ease;
    }
    .compose-bar img:hover {
      transform: scale(1.1);
    }
    /* Feedback visual cuando el micro est√° activo */
    .mic-img.listening { 
      filter: drop-shadow(0 0 6px rgba(0,150,255,.7)); 
      transform: scale(1.04); 
    }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <div class="container">
      
      <header class="header">
        <img src="img/logoproyecto.png" alt="Logo Proyecto" class="logo-top-left" />
      </header>

      <section class="chat-area">
        <div class="avatar-wrap">
          <img src="img/rito.png" alt="Rito" class="avatar-fixed">
        </div>

        <div class="bubble-column">
          <!-- Pila de bocadillos -->
          <div id="bubbleStack" class="bubble-stack"></div>

          <!-- Escribiendo‚Ä¶ -->
          <div id="loadingDots" class="typing-dots" style="display:none;">
            <span></span><span></span><span></span>
          </div>

          <!-- Barra de composici√≥n abajo -->
          <div class="compose-bar">
            <input type="text" id="textInput" placeholder="Escribe aqu√≠ tu pregunta" />
            <img src="img/micro.png" id="micBtn" class="mic-img" alt="Micr√≥fono" title="Hablar" onclick="startRecognition()">
            <img src="img/enviar.png" id="sendBtn" class="send-img" alt="Enviar" title="Enviar" onclick="sendMessage()">
          </div>

          <!-- Bot√≥n detener voz -->
          <div class="button-group-vertical">
            <button id="btnDetenerVoz" class="boton-detener oculto" onclick="detenerVoz()">‚èπ Detener voz</button>
          </div>
        </div>
      </section>
    </div>

    <footer>
      <p>
        &copy; 2025 Aranzadi La Ley. Todos los derechos reservados. |
        <a href="https://www.aranzadilaley.es/aviso-legal-ia.html" target="_blank" rel="noopener noreferrer">Aviso Legal</a>
      </p>
    </footer>
  </div>

  <img src="img/logo nuevo.png" alt="Logo Nuevo" class="logo-bottom-right" />

  <!-- Aqu√≠ va tu JS de reconocimiento, env√≠o y s√≠ntesis de voz (ya lo tienes arriba) -->
  <script>
    // üëâ Usa exactamente la l√≥gica que ya escribiste para reconocimiento, TTS y sendMessage
    // Solo cambian los selectores de micBtn, sendBtn e input que ahora est√°n en la compose-bar
  </script>
</body>
</html>

